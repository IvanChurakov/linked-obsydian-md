[Lin to the course](https://learn.microsoft.com/en-us/training/modules/work-azure-blob-storage/)
# Explore Azure Blob storage client library

The Azure Storage client libraries for .NET offer a convenient interface for making calls to Azure Storage. The latest version of the Azure Storage client library is version 12.x. Microsoft recommends using version 12.x for new applications.

The following table lists the basic classes, along with a brief description:

|Class|Description|
|---|---|
|`BlobServiceClient`|Represents the storage account, and provides operations to retrieve and configure account properties, and to work with blob containers in the storage account.|
|`BlobContainerClient`|Represents a specific blob container, and provides operations to work with the container and the blobs within.|
|`BlobClient`|Represents a specific blob, and provides general operations to work with the blob, including operations to upload, download, delete, and create snapshots.|
|`AppendBlobClient`|Represents an append blob, and provides operations specific to append blobs, such as appending log data.|
|`BlockBlobClient`|Represents a block blob, and provides operations specific to block blobs, such as staging and then committing blocks of data.|

The following packages contain the classes used to work with Blob Storage data resources:

- [Azure.Storage.Blobs](https://learn.microsoft.com/en-us/dotnet/api/azure.storage.blobs): Contains the primary classes (client objects) that you can use to operate on the service, containers, and blobs.
- [Azure.Storage.Blobs.Specialized](https://learn.microsoft.com/en-us/dotnet/api/azure.storage.blobs.specialized): Contains classes that you can use to perform operations specific to a blob type, such as block blobs.
- [Azure.Storage.Blobs.Models](https://learn.microsoft.com/en-us/dotnet/api/azure.storage.blobs.models): All other utility classes, structures, and enumeration types.

# Create a client object

Working with any Azure resource using the SDK begins with creating a client object. In this section, you learn how to create client objects to interact with the three types of resources in the storage service: storage accounts, containers, and blobs.

When your application creates a client object, you pass a URI referencing the endpoint to the client constructor. You can construct the endpoint string manually, as shown in the examples in this article, or you can query for the endpoint at runtime using the Azure Storage management library.

The code samples in this unit use [DefaultAzureCredential](https://learn.microsoft.com/en-us/dotnet/api/azure.identity.defaultazurecredential) to authenticate to Azure via a Microsoft Entra security principal. The authentication process includes obtaining an access token for authorization. This access token is passed as a credential when the client is instantiated, and the credential persists throughout the client lifetime. The Microsoft Entra security principal requesting the token must be assigned an appropriate Azure RBAC role that grants access to blob data.

## Create a BlobServiceClient object

An authorized `BlobServiceClient` object allows your app to interact with resources at the storage account level. `BlobServiceClient` provides methods to retrieve and configure account properties, as well as list, create, and delete containers within the storage account. This client object is the starting point for interacting with resources in the storage account.

The following example shows how to create a `BlobServiceClient` object:

```C#
using Azure.Identity;
using Azure.Storage.Blobs;

public BlobServiceClient GetBlobServiceClient(string accountName)
{
    BlobServiceClient client = new(
        new Uri($"https://{accountName}.blob.core.windows.net"),
        new DefaultAzureCredential());

    return client;
}
```

## Create a BlobContainerClient object

You can use a `BlobServiceClient` object to create a new `BlobContainerClient` object. A `BlobContainerClient` object allows you to interact with a specific container resource. `BlobContainerClient` provides methods to create, delete, or configure a container, and includes methods to list, upload, and delete the blobs within it.

The following example shows how to create a container client from a `BlobServiceClient` object to interact with a specific container resource:

```C#
public BlobContainerClient GetBlobContainerClient(
    BlobServiceClient blobServiceClient,
    string containerName)
{
    // Create the container client using the service client object
    BlobContainerClient client = blobServiceClient.GetBlobContainerClient(containerName);
    return client;
}
```

